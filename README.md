# Тестовое задание

В данном репозитории представлены решения тестовых заданий.

## Задача 1: Роботы на полоске. Папка Robots.

### Описание задачи
На бесконечной в обе стороны белой полоске размеченной в клеточку находятся два робота. Ровно одна из клеток на полоске - чёрная, и она находится между роботами. Требуется одинаково запрограммировать обоих роботов так, чтоб они встретились.

Программа для роботов должна состоять из нескольких строк, каждая из которых содержит ровно одну команду. Допустимые команды:
1) `ML` - сделать шаг на клетку влево и перейти к следующей строке программы
2) `MR` - сделать шаг на клетку вправо и перейти к следующей строке программы
3) `IF FLAG` - проверить, находимся ли мы на чёрной клетке. Если да, перейти к следующей строке программы, иначе перейти к послеследующей строке программы
4) `GOTO N` - перейти к N-й строке программы

На выполнение каждой из команд, кроме GOTO, у робота уходит 1 секунда. GOTO выполняется мгновенно.

### Решение
Реализованы две части:
1. Программа для роботов в файле `Robots/robot_program.txt`
2. Симуляция работы роботов на языке Go в файле `Robots/robot_solution.go`

#### Программа для роботов
```
MR
IF FLAG
GOTO 7
MR
ML
GOTO 1
MR
GOTO 7
```

Алгоритм программы:
1. Делаем шаг вправо (MR)
2. Проверяем, находится ли робот на черной клетке (IF FLAG)
3. Если да, то переходим на строку 7, где робот начинает бесконечно двигаться вправо
4. Если нет, делаем шаг вправо (MR), а затем шаг влево (ML)
5. После этого возвращаемся к началу (GOTO 1)
6. Когда робот добирается до черной клетки, он начинает двигаться только вправо

Принцип работы:
- Если робот не встретил черную клетку, он делает шаг вправо, затем возвращается примерно на исходную позицию
- Когда робот находит черную клетку, он начинает непрерывно двигаться вправо
- В результате робот, который нашел черную клетку первым, будет двигаться вправо, а второй робот, который "топчется на месте", в итоге встретится с первым
- Роботы встретятся справа от черной клетки

### Запуск симуляции

#### Вариант 1: Использование Go
```bash
cd Robots
go run robot_solution.go
```

#### Вариант 2: Использование Docker
```bash
# Сборка образа
docker build -t robot-simulation -f Dockerfile.robots .

# Запуск контейнера
docker run --rm robot-simulation
```

---

## Задача 2: Логическая задача 

- Предположим такую ситуацию расположения наклеек на автоматах:

```
 К  КЗ   З
[ ] [ ] [ ]
```

- Значит мы можем предположить возможные правильные значения у каждого автомата:
 
```
 К  КЗ   З
[ ] [ ] [ ]
 КЗ  К   КЗ
 З   З   К
```

 - Единственно правильным выбором покупики жвачки будет центральный автомат, то есть КЗ. Почему? Так как это единственный автомат, в котором мы наверняка понимаем, какую жвачку мы получаем.
 - Покупаем жвачку в автомате с КЗ. Допустим мы получили жвачку К. 

```
 К   КЗ  З
[ ] [К] [ ]
 КЗ      КЗ
 З       К
```

 - Мы точно значем, что центральный автомат является К. Теперь нам требуется определить жвачки в остальных автоматах. Какой З, а какой КЗ. 
 - Так как мы уверены, что второй не З (Ведь мы уже определили, что там К) и третий автомат автомат также не З (Ведь наклейки врут, а там именно она). Из этого можно сделать вывод, что только первый автомат может быть З.
 - У нас остается только КЗ и единственный третий автомат.
 - В результате получаем.

```
 [З] [К] [КЗ]
```

- Таким образом, чтобы решить данную задачу мы должны купить жвачку из автомата с наклейкой КЗ, относительно полученной жвачки мы наверняка можем определить автомат с жвачкой другого цвета. А оставшийся автомат будет КЗ

---

## Задача 3: Анализ курсов валют ЦБ РФ. Папка Exchange.

### Описание задачи
1. Вытащить из API Центробанка (пример http://www.cbr.ru/scripts/XML_daily_eng.asp?date_req=11/11/2020) данные по переводу различных валют в рубли за последние 90 дней.
2. Результатом работы программы:  
   - нужно указать значение максимального курса валюты, название этой валюты и дату этого максимального значения.
   - нужно указать значение минимального курса валюты, название этой валюты и дату этого минимального значения.
   - нужно указать среднее значение курса рубля за весь период по всем валютам.

### Решение
Реализована программа на языке Go, которая:
1. Получает данные о курсах валют из API Центробанка за последние 90 дней
2. Обрабатывает XML-ответы и корректно декодирует содержимое в кодировке windows-1251
3. Учитывает выходные и праздничные дни (когда ЦБ РФ не публикует курсы)
4. Находит валюту с максимальным и минимальным курсом относительно рубля
5. Рассчитывает среднее значение курса по всем валютам за весь период

### Запуск программы
Программу можно запустить несколькими способами:

#### Вариант 1: Использование Go
```bash
cd Exchange
go run exchange.go
```

#### Вариант 2: Использование Docker
Для запуска программы не требуется установка Go на ваш компьютер. Вы можете воспользоваться Docker:

```bash
# Сборка образа и запуск контейнера
docker build -t currency-exchange -f Dockerfile.exchange .
docker run --rm currency-exchange
```

### Пример вывода программы
Программа выведет следующую информацию:
- Список обработанных валют
- Максимальный курс валюты (значение, название валюты, дата)
- Минимальный курс валюты (значение, название валюты, дата)
- Среднее значение курса рубля по всем валютам за 90 дней

## Использование Docker Compose

Для удобного запуска обеих программ (роботы и курсы валют) можно использовать Docker Compose:

### Предварительные требования
- Установленный Docker и Docker Compose

### Запуск общий

```bash
# Запуск обеих программ одновременно
docker compose up --build

# Запуск только программы обмена валют
docker compose up --build exchange

# Запуск только программы с роботами
docker compose up --build robots
```

